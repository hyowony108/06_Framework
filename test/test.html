<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë³´ì¡°ê¸ˆ24 ê²€ìƒ‰</title>
  <style>
    body { font-family: Arial, sans-serif; }
    input { padding: 6px; width: 200px; }
    button { padding: 6px 10px; }
    pre { white-space: pre-wrap; background: #f4f4f4; padding: 10px; }
  </style>
</head>
<body>
  <h1>ë³´ì¡°ê¸ˆ24 ê³µê³µì„œë¹„ìŠ¤ ê²€ìƒ‰</h1>
  <input type="text" id="searchInput" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (ì˜ˆ: ë³µì§€)" />
  <button id="searchBtn">ê²€ìƒ‰</button>

  <h2>ê²€ìƒ‰ ê²°ê³¼:</h2>
  <pre id="result">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</pre>

  <script>
    const serviceKey = 'eLcAi6EheQARtaiHDeQN%2Bkg2wAus4IF6uAHfE5gE4g5yCga5jSh9%2BEGNJRh6m1FpEU4xmGzL3yh9GcLCk3MOXQ%3D%3D'; // ğŸ”’ ë°œê¸‰ë°›ì€ ì¸ì¦í‚¤ ê·¸ëŒ€ë¡œ ì…ë ¥í•˜ì„¸ìš”

    document.getElementById('searchBtn').addEventListener('click', () => {
      const keyword = document.getElementById('searchInput').value.trim();

      if (!keyword) {
        alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

     const corsProxy = 'https://cors-anywhere.herokuapp.com/';
      const url = `${corsProxy}https://api.odcloud.kr/api/gov24/v3/serviceList?serviceKey=${encodeURIComponent(serviceKey)}&searchWrd=${encodeURIComponent(keyword)}&page=1&perPage=10&returnType=JSON`;

      fetch(url)
        .then(res => res.json())
        .then(data => console.log(data))
        .catch(err => console.error(err));



      // fetch(url)
      //   .then(response => {
      //     if (!response.ok) {
      //       throw new Error(`HTTP ì˜¤ë¥˜: ${response.status}`);
      //     }
      //     return response.json();
      //   })
      //   .then(data => {
      //     const resultBox = document.getElementById('result');
      //     if (data && data.data && data.data.length > 0) {
      //       // ë°ì´í„°ê°€ ìˆì„ ê²½ìš°
      //       const list = data.data.map(item => `- ${item.servNm} (${item.jurMnofNm})`).join('\n');
      //       resultBox.textContent = list;
      //     } else {
      //       resultBox.textContent = 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.';
      //     }
      //   })
      //   .catch(error => {
      //     document.getElementById('result').textContent = 'ì—ëŸ¬ ë°œìƒ: ' + error.message;
      //   });
    });
  </script>
</body>
</html>
